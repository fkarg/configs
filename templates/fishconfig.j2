# fish config file.
# {{ ansible_managed }}

{% if link_nixos %}
# maybe only import these if they are not in there already. How to do that?
# set -x PATH /run/wrappers/bin $PATH
# set -x PATH /home/{{ username }}/.nix-profile/bin $PATH
# set -x PATH /run/current-system/sw/bin $PATH
#
# any-nix-shell fish --info-right | source
{% endif %}


function fish_greeting
  fortune -as | cowthink -f {{ cowfile }}
  echo
end

if status --is-interactive
  echo ----\((hostname)\)----
  echo "You are only human. Pay attention to your communication. Value each step forward."
  echo "Succeed, with no wasted motion. What is your ONE Thing right now?"
end



set -x PATH ~/.local/bin $PATH
set -x PATH ~/.cargo/bin $PATH

# set -x LD_LIBRARY_PATH (nix-build -E 'import <nixpkgs>' -A 'gcc.cc.lib')/lib64
# set -x PATH $LD_LIBRARY_PATH $PATH

set -x FZF_DEFAULT_COMMAND 'rg --files --no-ignore --hidden --follow --glob "!.git/*"'

# This script was automatically generated by the broot function
# More information can be found in https://github.com/Canop/broot

# This function starts broot and executes the command
# it produces, if any.
# It's needed because some shell commands, like `cd`,
# have no useful effect if executed in a subshell.
function br
    set f (mktemp)
    broot --outcmd $f $argv
    if test $status -ne 0
        rm -f "$f"
        return "$code"
    end
    set d (cat "$f")
    rm -f "$f"
    eval "$d"
end

# # defined in /usr/share/fish/functions/fish_prompt.fish @ line 4
# function fish_prompt --description 'write out the prompt'
#     set -l last_pipestatus $pipestatus
#     set -l normal (set_color normal)
#
#   # color the prompt differently when we're root
#     set -l color_cwd $fish_color_cwd
#     set -l prefix
#     set -l suffix '>'
#     if contains -- $user root toor
#         if set -q fish_color_cwd_root
#             set color_cwd $fish_color_cwd_root
#         end
#         set suffix '#'
#     end
#
#   # if we're running via ssh, change the host color.
#     set -l color_host $fish_color_host
#     if set -q ssh_tty
#         set color_host $fish_color_host_remote
#     end
#
#   # write pipestatus
#     set -l prompt_status (__fish_print_pipestatus " [" "]" "|" (set_color $fish_color_status) (set_color --bold $fish_color_status) $last_pipestatus)
#
#   echo -n -s (set_color $fish_color_user) "$user" $normal @ (set_color $color_host) (prompt_hostname) $normal ' ' (set_color $color_cwd) (prompt_pwd) $normal (fish_vcs_prompt) $normal $prompt_status $suffix " "
# end

